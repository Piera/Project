<!DOCTYPE html>
<html>
    
    <head>

        <title> Home Page </title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheet.css') }}"> 
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
        <!-- This is for Google Maps Geocode.  Will move this to a js file in static folder -->
            <script>
        var geocoder;
        var map;
        function initialize() {
          geocoder = new google.maps.Geocoder();
          var latlng = new google.maps.LatLng(37.8717, -122.2728);
          var mapOptions = {
            zoom: 5,
            center: latlng
          }
          map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
        }

        function codeAddress() {
          var address = document.getElementById('address').value;
          geocoder.geocode( { 'address': address}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
              map.setCenter(results[0].geometry.location);
              var marker = new google.maps.Marker({
                  map: map,
                  position: results[0].geometry.location
              });
            } else {
              alert('Geocode was not successful for the following reason: ' + status);
            }
          });
        }

        google.maps.event.addDomListener(window, 'load', initialize);
            </script>

    </head>

    <body>
        <h4>This is under construction:</h4>
        <div id="panel">
            <input id="address" size="75" type="textbox" value="Berkeley, CA">
            <input type="button" value="Geocode this" onclick="codeAddress()">
        </div>
            <div id="map-canvas"></div>

        <br>   
        <h4>This works:</h4>
        <form class="form-horizontal", action = "{{ url_for('lookup') }}" method="post">
            <br>
            <h4>Latitude:  <input type="text" name="lat"><br><br>
            Longitude:  <input type="text" name="long"><br><br></h4>
            <button type="submit" value="submit" id="lookup" class="btn">Find me the closest SnoTel Stations!</button>
        </form>
        <br>

        <h4>Here are some locations to try:<br><br>
        <ul>
            <li>San Francisco Ferry Building, SF: 37.795483, -122.393306</li>
            <li>Hollywood Sign, Los Angeles: 34.134115, -118.321548</li>
            <li>Eureka, CA:  40.783229, -124.146220</li>
            <li>Pinedale, WY: 42.865499, -109.870700</li>
            <li>Salida, CO: 38.532853, -106.003459</li>
        </ul>

    </body>

</html>